- hosts: localhost
  vars_files:
    - files_list.yml
  tasks:
    - name: check current checksum
      stat:
        path: "{{ item.name }}"
      with_items:
        - "{{ files }}"
      register: test

    - debug:
        msg: "For {{ item.item.name }} checksum matched"
      when: item.item.checksum  == item.stat.checksum
      loop: "{{ test.results }}"
    - debug:
        msg: "For {{ item.item.name }} checksum NOT match"
      when: item.item.checksum != item.stat.checksum
      loop: "{{ test.results }}"
